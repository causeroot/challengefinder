#!/usr/local/bin/octave -q

args = argv();

BASE_PATH = strcat(pwd,"/data/",args{1});

modelFile = strcat(BASE_PATH, "/svmModel/model.binsev");
dictionaryWordsFile = strcat(BASE_PATH, "/urlTerms/dictionary_words_file.binsev");
dictionaryPairsFile = strcat(BASE_PATH, "/urlTerms/dictionary_pairs_file.binsev");
search_string_out_file = strcat(BASE_PATH, "/searchTerms/new_sstrings.txt");
eval_output_file = strcat(BASE_PATH, "/fitness/evalout.txt");
eval_file = strcat(BASE_PATH, "/rawSiteData/toEvaluate/URLs_4.url.out");

[eval_urls,p,pred] = classify(eval_file,model,dictionary_words, dictionary_pairs);

fileID = fopen(eval_output_file,'w');
for i = 1:size(eval_urls,1)
    fprintf(fileID,"%s",char(eval_urls(i)));
    fprintf(fileID," ");
    fprintf(fileID,"%6.4f  %d",p(i),pred(i));
    fprintf(fileID," \n");
end
fclose(fileID);


